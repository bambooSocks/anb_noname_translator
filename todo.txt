TODO:
 - rename the labels in each transaction
 - generate necessary cell definitions
 - add agent names to sigma0
 - agent picking
   - if B doesn't know it's name it has to pick it for themselves
 - fuse all "new" declarations (Pl cannot follow after new :/ )
 - proper testing
 - in verbatim code

